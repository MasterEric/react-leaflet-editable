!function(e){function n(n){for(var r,i,l=n[0],c=n[1],u=n[2],s=0,d=[];s<l.length;s++)i=l[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(f&&f(n);d.length;)d.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,l=1;l<t.length;l++){var c=t[l];0!==o[c]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={0:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=n,l=l.slice();for(var u=0;u<l.length;u++)n(l[u]);var f=c;a.push([29,1]),t()}({26:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(11),i=t.n(a),l=t(9),c=t.n(l),u=t(1),f=t.n(u);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?g(e):n}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,n){return(k=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y={onEditing:"editable:editing",onEnable:"editable:enable",onDisable:"editable:disable",onStartDrawing:"editable:drawing:start",onDrawingClick:"editable:drawing:click",onDrawingCommit:"editable:drawing:commit",onDrawingMouseDown:"editable:drawing:mousedown",onDrawingMouseUp:"editable:drawing:mouseup",onDrawingMove:"editable:drawing:move",onCancelDrawing:"editable:drawing:cancel",onEndDrawing:"editable:drawing:end",onDragStart:"editable:dragstart",onDrag:"editable:drag",onDragEnd:"editable:dragend",onVertexMarkerDrag:"editable:vertex:drag",onVertexMarkerDragStart:"editable:vertex:dragstart",onVertexMarkerDragEnd:"editable:vertex:dragend",onVertextCtrlClick:"editable:vertex:ctrlclick",onNewVertex:"editable:vertex:new",onVertexMarkerClick:"editable:vertex:click",onVertexRawMarkerClick:"editable:vertex:rawclick",onVertexDeleted:"editable:vertex:deleted",onVertexMarkerCtrlClick:"editable:vertex:ctrlclick",onVertexMarkerShiftClick:"editable:vertex:shiftclick",onVertexMarkerMetaKeyClick:"editable:vertex:metakeyclick",onVertexMarkerAltClick:"editable:vertex:altclick",onVertexMarkerContextMenu:"editable:vertex:contextmenu",onVertexMarkerMouseDown:"editable:vertex:mousedown",onVertexMarkerMouseOver:"editable:vertex:mouseover",onVertexMarkerMouseOut:"editable:vertex:mouseout",onMiddleMarkerMouseDown:"editable:middlemarker:mousedown"},x=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&k(e,n)}(i,e);var n,t,r,o,a=(n=i,function(){var e,t=m(n);if(b()){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function i(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),M(g(e=a.call(this)),"_initMap",(function(n){e.setState({map:n},(function(){e._registerListeners()}))})),M(g(e),"_registerListeners",(function(){var n=e.state.map;Object.keys(y).forEach((function(t){n&&n.on(y[t],(function(r){e.props[t](r,n)}))}))})),M(g(e),"_unregisterListeners",(function(){var n=e.state.map;n&&Object.keys(y).forEach((function(e){n.off(y[e])}))})),M(g(e),"_offListeners",(function(){})),M(g(e),"startPolygon",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startPolygon():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"startPolyline",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startPolyline():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"startMarker",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startMarker():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"startRectangle",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startRectangle():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"startCircle",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startCircle():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"startHole",(function(){var n=e.state.map;if(n)return n.editTools?n.editTools.startHole():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"clearAll",(function(){var n=e.state.map;if(n)return n.editTools?void n.editTools.featuresLayer.clearLayers():console.error("Warning please npm install leaflet-editable and import ")})),M(g(e),"childrenMap",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(c.a.Children.map(n,(function(e){e.type&&e.type.prototype&&e.type.prototype.createLeafletElement&&(t=e)})),t)return t;if(Array.isArray(n))for(var r=0;r<n.length;r++)return e.childrenMap(n[r],t);return n&&n.props&&n.props.children?e.childrenMap(n.props.children,t):void 0})),e.state={map:null},e}return t=i,(r=[{key:"_isMapEditable",value:function(e){return e.editable}},{key:"componentDidMount",value:function(){var e=this.props.children,n=this.childrenMap(e);return n?n.ref?this._isMapEditable(n.props)?void this._initMap(n.ref.current.leafletElement):console.error("Warning: react-leaflet Map component must add editable={true} attribute"):console.error("Warning: react-leaflet Map component must add ref attribute."):console.error("Warning: Must contain a react-leaflet Map component or similar Map component")}},{key:"componentWillUnmount",value:function(){this._unregisterListeners()}},{key:"render",value:function(){return this.props.children?this.props.children:null}}])&&d(t.prototype,r),o&&d(t,o),i}(l.Component);M(x,"defaultProps",{onEditing:function(e,n){},onEnable:function(e,n){},onDisable:function(e,n){},onStartDrawing:function(e,n){},onDrawingClick:function(e,n){},onDrawingCommit:function(e,n){},onDrawingMouseDown:function(e,n){},onDrawingMouseUp:function(e,n){},onDrawingMove:function(e,n){},onCancelDrawing:function(e,n){},onEndDrawing:function(e,n){},onDragStart:function(e,n){},onDrag:function(e,n){},onDragEnd:function(e,n){},onVertexMarkerDrag:function(e,n){},onVertexMarkerDragStart:function(e,n){},onVertexMarkerDragEnd:function(e,n){},onVertextCtrlClick:function(e,n){},onNewVertex:function(e,n){},onVertexMarkerClick:function(e,n){},onVertexRawMarkerClick:function(e,n){},onVertexDeleted:function(e,n){},onVertexMarkerCtrlClick:function(e,n){},onVertexMarkerShiftClick:function(e,n){},onVertexMarkerMetaKeyClick:function(e,n){},onVertexMarkerAltClick:function(e,n){},onVertexMarkerContextMenu:function(e,n){},onVertexMarkerMouseDown:function(e,n){},onVertexMarkerMouseOver:function(e,n){},onVertexMarkerMouseOut:function(e,n){},onMiddleMarkerMouseDown:function(e,n){}}),M(x,"propTypes",{onEditing:f.a.func,onEnable:f.a.func,onDisable:f.a.func,onStartDrawing:f.a.func,onDrawingClick:f.a.func,onDrawingCommit:f.a.func,onDrawingMouseDown:f.a.func,onDrawingMouseUp:f.a.func,onDrawingMove:f.a.func,onCancelDrawing:f.a.func,onEndDrawing:f.a.func,onDragStart:f.a.func,onDrag:f.a.func,onDragEnd:f.a.func,onVertexMarkerDrag:f.a.func,onVertexMarkerDragStart:f.a.func,onVertexMarkerDragEnd:f.a.func,onVertextCtrlClick:f.a.func,onNewVertex:f.a.func,onVertexMarkerClick:f.a.func,onVertexRawMarkerClick:f.a.func,onVertexDeleted:f.a.func,onVertexMarkerCtrlClick:f.a.func,onVertexMarkerShiftClick:f.a.func,onVertexMarkerMetaKeyClick:f.a.func,onVertexMarkerAltClick:f.a.func,onVertexMarkerContextMenu:f.a.func,onVertexMarkerMouseDown:f.a.func,onVertexMarkerMouseOver:f.a.func,onVertexMarkerMouseOut:f.a.func,onMiddleMarkerMouseDown:f.a.func});t(24);var w=t(2),D=t.n(w),h=(t(25),t(32)),v=t(31),C=(t(26),t(12)),V=t(13),E=t(14);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,n){return!n||"object"!==O(n)&&"function"!=typeof n?_(e):n}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,n){return(N=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}delete w.Icon.Default.prototype._getIconUrl,w.Icon.Default.mergeOptions({iconRetinaUrl:E.a,iconUrl:C.a,shadowUrl:V.a});var A=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}(c,e);var n,t,a,i,l=(n=c,function(){var e,t=j(n);if(P()){var r=j(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return R(this,e)});function c(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,c),T(_(e=l.call(this)),"editPolygon",(function(){e.editRef.current.startPolygon()})),T(_(e),"editPolyline",(function(){e.editRef.current.startPolyline()})),T(_(e),"editCircle",(function(){e.editRef.current.startCircle()})),T(_(e),"editMarker",(function(){e.editRef.current.startMarker()})),T(_(e),"editRectangle",(function(){e.editRef.current.startRectangle()})),T(_(e),"refresh",(function(){console.log(e.editRef.current.state.map)})),T(_(e),"clearAll",(function(){e.editRef.current.clearAll()})),T(_(e),"prev",(function(){e.polyline.editor.continueBackward()})),T(_(e),"next",(function(){e.polyline.editor.continueForward()})),e.state={isShow:!0},e.editRef=Object(r.createRef)(),e.mapRef=Object(r.createRef)(),e}return t=c,(a=[{key:"componentDidMount",value:function(){var e=this.mapRef.current.leafletElement;this.polyline=D.a.polyline([[43.1,1.2],[43.2,1.3],[43.3,1.2]]).addTo(e),console.log(this.polyline),e.fitBounds(this.polyline.getBounds()),this.polyline.enableEdit()}},{key:"render",value:function(){return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(x,{ref:this.editRef,onEditing:function(e,n){console.log("onEditing")},onEnable:function(e,n){console.log("onEnable")},onDisable:function(e,n){console.log("onDisable")},onStartDrawing:function(e,n){console.log("onStartDrawing")},onDrawingClick:function(e,n){console.log("onDrawingClick")},onDrawingCommit:function(e,n){console.log("onDrawingCommit")},onDrawingMouseDown:function(e,n){console.log("onDrawingMouseDown")},onDrawingMouseUp:function(e,n){console.log("onDrawingMouseUp")},onDrawingMove:function(e,n){console.log("onDrawingMove")},onCancelDrawing:function(e,n){console.log("onCancelDrawing")},onEndDrawing:function(e,n){console.log("onEndDrawing")},onDragStart:function(e,n){console.log("onDragStart")},onDrag:function(e,n){console.log("onDrag")},onDragEnd:function(e,n){console.log("onDragEnd")},onVertexMarkerDrag:function(e,n){console.log("onVertexMarkerDrag")},onVertexMarkerDragStart:function(e,n){console.log("onVertexMarkerDragStart")},onVertexMarkerDragEnd:function(e,n){console.log("onVertexMarkerDragEnd")},onVertextCtrlClick:function(e,n){console.log("onVertextCtrlClick")},onNewVertex:function(e,n){console.log("onNewVertex")},onVertexMarkerClick:function(e,n){console.log("onVertexMarkerClick")},onVertexRawMarkerClick:function(e,n){console.log("onVertexRawMarkerClick")},onVertexDeleted:function(e,n){console.log("onVertexDeleted")},onVertexMarkerCtrlClick:function(e,n){console.log("onVertexMarkerCtrlClick")},onVertexMarkerShiftClick:function(e,n){console.log("onVertexMarkerShiftClick")},onVertexMarkerMetaKeyClick:function(e,n){console.log("onVertexMarkerMetaKeyClick")},onVertexMarkerAltClick:function(e,n){console.log("onVertexMarkerAltClick")},onVertexMarkerContextMenu:function(e,n){console.log("onVertexMarkerContextMenu")},onVertexMarkerMouseDown:function(e,n){console.log("onVertexMarkerMouseDown")},onVertexMarkerMouseOver:function(e,n){console.log("onVertexMarkerMouseOver")},onVertexMarkerMouseOut:function(e,n){console.log("onVertexMarkerMouseOut")},onMiddleMarkerMouseDown:function(e,n){console.log("onMiddleMarkerMouseDown")}},o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement(h.a,{ref:this.mapRef,style:{height:"100%"},editable:!0,zoom:4,maxZoom:18,center:[35,105]},o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{onClick:this.prev,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconhoutui"})),o.a.createElement("button",{onClick:this.next,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconqianjin"})),o.a.createElement("button",{onClick:this.clearAll,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconqingchu"})),o.a.createElement("button",{onClick:this.editPolygon,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconduobianxing"})),o.a.createElement("button",{onClick:this.editPolyline,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconpoly-line"})),o.a.createElement("button",{onClick:this.editMarker,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconcc-marker"})),o.a.createElement("button",{onClick:this.editRectangle,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconjuxing"})),o.a.createElement("button",{onClick:this.editCircle,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconcircle"})),o.a.createElement("button",{onClick:this.editHole,className:"editable-btn"},o.a.createElement("i",{className:"iconfont iconkong"}))),o.a.createElement(v.a,{url:"https://t0.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk=b6afc1ba1ece9d7346c30ba57f8c7298"})))))}}])&&S(t.prototype,a),i&&S(t,i),c}(r.Component);i.a.render(o.a.createElement(A,null),document.getElementById("root"))}});